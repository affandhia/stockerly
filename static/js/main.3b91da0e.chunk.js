(this.webpackJsonpstockerly=this.webpackJsonpstockerly||[]).push([[0],{181:function(e,t,c){"use strict";c.r(t);var n=c(41),r=c(15),a=c(8),s=c(240),i=c(237),o=c(242),l=c(232),j=c(243),u=c(245),b=c(231),d=c(108),O=c.n(d),f=c(35),h=c(0),x=c(239),m=c(220),p=Object(f.b)({key:"fetchConfigState",default:null}),g=Object(f.b)({key:"autocompleteState",default:null}),v=c(2),k=Object(m.a)(),I=function(){var e=Object(x.a)("stockerly:config:isForceId",!0),t=Object(a.a)(e,2),c=t[0],n=t[1],d=Object(f.d)(g),m=Object(h.useState)(),I=Object(a.a)(m,2),y=I[0],w=I[1],C=Object(f.c)(p),E=Object(a.a)(C,2)[1],R=Object(h.useCallback)(O()((function(e){c&&E({isForceIdSearch:!0,headers:{},url:"https://api.sticker.ly/v3.1/stickerPack/".concat(e)})}),500),[c,E]);return Object(h.useEffect)((function(){R(y)}),[y,R]),Object(h.useEffect)((function(){if(null!==d&&void 0!==d&&d.length){var e=d[0].packId;w(e)}}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{control:Object(v.jsx)(i.a,{checked:c,onChange:function(e){n(e.target.checked)},name:"checkedA"}),label:"Search by ID"}),Object(v.jsx)(o.a,{in:c,children:Object(v.jsx)(j.a,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:Object(v.jsx)(u.a,{sx:{p:1},children:Object(v.jsx)(b.a,{id:"free-solo-demo",freeSolo:!0,getOptionLabel:function(e){return e.packId},onChange:function(e,t){"string"===typeof t?w(t):t&&w(t.packId)},filterOptions:function(e,t){var c=k(e,t),n=t.inputValue,r=e.some((function(e){return n===e.packId}));return""===n||r||c.push({packId:n,name:"search for this ID",authorName:"press enter",thumbnailImageUrl:""}),c},renderOption:function(e,t){return Object(v.jsxs)(u.a,Object(r.a)(Object(r.a)({sx:{display:"flex",flexDirection:"row"}},e),{},{children:[Object(v.jsx)(u.a,{sx:{paddingRight:"0.5em",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)("img",{src:t.thumbnailImageUrl,width:"16",height:"16"})}),Object(v.jsx)(u.a,{children:"[ ".concat(t.packId," ] ").concat(t.name," \u2013 ").concat(t.authorName)})]}))},renderInput:function(e){return Object(v.jsx)(l.a,Object(r.a)(Object(r.a)({},e),{},{label:"Sticker ID"}))},options:null!==d&&void 0!==d?d:[]})})})})]})},y=c(53),w=c(17),C=c(26),E=c.n(C),R=c(236),S=c(226),N=c(250),P=c(234),A=c(251),F=c(76),U=c.n(F),T=c(3),D=c(92),B=c.n(D),J=c(111),L=c.n(J),M=c(247),z=c(248),G=c(249),H=c(246),V=c(227),_=c(228),q=function(e){var t=e.src,c=function(e){var t=e.src,c=Object(h.useRef)(null),n=Object(h.useRef)(null),r=Object(h.useRef)(null);return Object(h.useEffect)((function(){if(c.current){var e=c.current;if(e.getContext){var n=e.getContext("2d"),r=new Image;r.onload=function(){null===n||void 0===n||n.drawImage(r,0,0,100,100)},r.crossOrigin="anonymous",r.src=t}}}),[t]),{handleCopyImage:Object(h.useCallback)(Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("downloading image",t),e.next=3,U.a.get(t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)}))),[t]),canvasRef:c,imgRef:r,imgContainerRef:n}}({src:t}),n=c.handleCopyImage,r=c.canvasRef,a=c.imgRef,s=c.imgContainerRef;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(M.a,{children:[Object(v.jsxs)(z.a,{children:[Object(v.jsx)("div",{ref:s}),Object(v.jsx)("canvas",{ref:r,style:{display:"none"}}),Object(v.jsx)(L.a,{height:200,children:Object(v.jsx)("img",{ref:a,src:t,width:"100%"})})]}),Object(v.jsxs)(G.a,{children:[Object(v.jsx)(H.a,{onClick:n,color:"secondary",component:"span",children:Object(v.jsx)(V.a,{})}),Object(v.jsx)("a",{target:"_blank",href:" https://ezgif.com/resize?url=".concat(t),children:Object(v.jsx)(H.a,{color:"secondary",component:"span",children:Object(v.jsx)(_.a,{})})})]})]})})},K=function(e){var t=e.stickers,c=e.resourceUrlPrefix,n=Array(10).fill(1).map((function(e,t){return t})).reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(T.a)({},"".concat(t,"00"),t))}),{});return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(D.ResponsiveMasonry,{columnsCountBreakPoints:n,children:Object(v.jsx)(B.a,{gutter:"10",children:t.map((function(e){var t="".concat(c).concat(e.fileName);return Object(v.jsx)(q,{src:t},t)}))})})})},Q=function(){var e,t=Object(f.d)(p),c=Object(R.a)(["https://api.sticker.ly/v3.1/stickerPack/<id>",t],Object(y.a)(E.a.mark((function e(){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({url:null===t||void 0===t?void 0:t.url,headers:null===t||void 0===t?void 0:t.headers}).then((function(e){return e.data}));case 2:if(!(c=e.sent).error){e.next=5;break}throw new Error(JSON.stringify(c.error));case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),{enabled:!!t}),n=c.isLoading,s=c.error,i=c.data;return function(e,t){var c=Object(f.c)(g),n=Object(a.a)(c,2),r=n[0],s=n[1],i=Object(x.a)("stockerly:autocompleteItem",[]),o=Object(a.a)(i,2),l=o[0],j=o[1],u=Object(x.a)("stockerly:config:maxAutocompleteItem",10),b=Object(a.a)(u,1)[0];Object(h.useEffect)((function(){null==r&&l&&s(l)}),[r,l,s]),Object(h.useEffect)((function(){null!=r&&j(r)}),[r,j]),Object(h.useEffect)((function(){if(!1===e&&null!==t&&void 0!==t&&t.result){var c=t.result,n=c.authorName,a=c.packId,i=c.name,o=c.resourceUrlPrefix,l=c.stickers,j={authorName:n,packId:a,name:i,thumbnailImageUrl:"".concat(o).concat(l.length&&l[0].fileName)};null!==r&&void 0!==r&&r.length&&r[0].packId!==a?s([j].concat(Object(w.a)(r.filter((function(e){return e.packId!==a})))).slice(0,b)):0===(null===r||void 0===r?void 0:r.length)&&s([j])}}),[r,s,e,t,b])}(n,i),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.a,{in:n,children:Object(v.jsx)(N.a,{})}),Object(v.jsx)(o.a,{in:!!s,children:Object(v.jsxs)(P.a,{severity:"error",children:[Object(v.jsx)(A.a,{children:"Network Error"}),Object(v.jsx)("strong",{children:"Unable to get the images"})]})}),Object(v.jsx)(o.a,{in:!!i,children:Object(v.jsx)(u.a,{sx:{paddingBottom:"10em"},children:(null===i||void 0===i||null===(e=i.result)||void 0===e?void 0:e.stickers)&&Object(v.jsx)(K,Object(r.a)({},i.result))})})]})};function W(e){var t=e.children;return Object(v.jsx)(f.a,{children:t})}var X=c(235),Y=c(112),Z=new X.a;function $(e){var t=e.children;return Object(v.jsx)(Y.a,{client:Z,children:t})}var ee=c(229),te=c(230),ce=c(113),ne=c(238);function re(e){var t=e.children,c=Object(ee.a)("(prefers-color-scheme: dark)"),n=Object(h.useMemo)((function(){return Object(ce.a)({palette:{mode:c?"dark":"light"}})}),[c]);return Object(v.jsxs)(ne.a,{theme:n,children:[Object(v.jsx)(te.a,{}),t]})}function ae(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(W,{children:Object(v.jsx)($,{children:Object(v.jsxs)(re,{children:[Object(v.jsx)(I,{}),Object(v.jsx)(Q,{})]})})})})}var se=document.getElementById("root");Object(n.render)(Object(v.jsx)(ae,{}),se)}},[[181,1,2]]]);
//# sourceMappingURL=main.3b91da0e.chunk.js.map